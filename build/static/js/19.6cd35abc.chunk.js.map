{"version":3,"sources":["containers/categories/ChildCategory.js"],"names":["RightCCategory","state","order","onOrderChange","Fragment","className","category","name","toUpperCase","style","flexGrow","fontSize","defaultValue","value","onChange","disabled","isLoadingProduct","listProduct","length","map","item","index","key","data","ChildCategory","tag","useParams","useState","isLoading","id","path","parent_category","setState","is_new","is_hot","price_from","price_to","item_per_page","page","filter","setFilter","useEffect","getItems","then","res","list","sub_category","catch","error","console","log","title","routeTemplate","leftComponent","onFilterChange","e","focusTag","type","rightComponent","target"],"mappings":"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","file":"static/js/19.6cd35abc.chunk.js","sourcesContent":["import React, {useEffect, useState} from \"react\";\nimport {useParams} from \"react-router-dom\"\nimport {getItems} from \"../../api/api\";\nimport './ChildCategory.css'\nimport ProductCard from \"../template/ProductCard\";\nimport RouteTemplate from \"../template/RouteTemplate\";\nimport FilterComponent from \"./FilterComponent\";\nimport Category from \"./Category\";\nimport LinkTemplate from \"../template/LinkTemplate\";\nimport NoProduct from \"./NoProduct\";\nimport LoadingCircle from \"../template/LoadingCircle\";\nimport BodyTemplate from \"../template/BodyTemplate\";\nimport CategorySkeleton from \"../skeleton/CategorySkeleton\";\nimport MetaTag from \"../template/MetaTag/MetaTag\";\n\nconst RightCCategory = ({state, order, onOrderChange}) => {\n    return (\n        <React.Fragment>\n            {\n                <div className='child-category-right'>\n                    <div className='child-category-title-container'>\n                        <div className='child-category-title'>\n                            {state.category.name.toUpperCase()}\n                        </div>\n                        <div style={{flexGrow: 1}}></div>\n                        <div className='child-category-select-container'>\n                            <span style={{fontSize: '0.9em'}}>Sắp xếp : </span>\n                            <select defaultValue='' className='child-category-select' value={order}\n                                    onChange={onOrderChange}\n                                    name='order'>\n                                <option disabled value={''} className='child-category-option'>Thứ tự</option>\n                                <option value='name,asc'>Tên A -> Z</option>\n                                <option value='price,desc'>Tên Z -> A</option>\n                                <option value='sale_price,asc'>Giá tăng dần</option>\n                                <option value='sale_price,desc'>Giá giảm dần</option>\n                            </select>\n                        </div>\n                    </div>\n                    {\n                        state.isLoadingProduct ? <div className='child-category-loading-container'>\n                                <div className='child-category-loading-wrapper'>\n                                    <LoadingCircle/>\n                                </div>\n                            </div> :\n                            state.listProduct.length === 0 ? <NoProduct/> :\n                                <div className='child-category-element-container'>\n                                    {\n                                        state.listProduct.map((item, index) => {\n                                            return (\n                                                <div className='child-category-element' key={index}>\n                                                    <ProductCard data={item}/>\n                                                </div>\n                                            )\n                                        })\n                                    }\n                                </div>\n                    }\n                </div>\n            }\n        </React.Fragment>\n    )\n}\nexport default function ChildCategory() {\n    const {tag} = useParams()\n    const [state, setState] = useState({\n        isLoading: true,\n        isLoadingProduct: true,\n        category: {\n            id: 0,\n            name: '',\n            path: '',\n            parent_category: {\n                id: 0,\n                name: '',\n                path: ''\n            }\n        },\n        listProduct: []\n\n    })\n    const [filter, setFilter] = useState({\n        order: 'name,asc',\n        is_new: 0,\n        is_hot: 0,\n        price_from: 0,\n        price_to: 999999999,\n        item_per_page: 30,\n        page: 1,\n\n    })\n    useEffect(() => {\n        setState({...state, isLoadingProduct: true})\n        getItems(`/product_sub?sub_category_tag=${tag}&item_per_page=${filter.item_per_page}&page=${filter.page}&order=${filter.order}&is_new=${filter.is_new}&is_hot=${filter.is_hot}&price_from=${filter.price_from}&price_to=${filter.price_to}`, {})\n            .then(res => {\n                setState({\n                    ...state,\n                    listProduct: res.data.list,\n                    isLoading: false,\n                    isLoadingProduct: false,\n                    category: {\n                        id: res.data.sub_category.id,\n                        name: res.data.sub_category.name,\n                        path: res.data.sub_category.path,\n                        parent_category: {\n                            id: res.data.sub_category.parent_category.id,\n                            name: res.data.sub_category.parent_category.name,\n                            path: res.data.sub_category.parent_category.path,\n                        }\n                    }\n                })\n            })\n            .catch(error => console.log(error))\n    }, [filter, tag])\n    const filterChange = (e) => {\n        setFilter({\n            ...filter,\n            is_new: e.is_new,\n            is_hot: e.is_hot,\n            price_from: e.price_from,\n            price_to: e.price_to\n        })\n    }\n    const orderChange = (e) => {\n        setFilter({\n            ...filter,\n            order: e.target.value\n        })\n    }\n    return (\n        <BodyTemplate>\n            <React.Fragment>\n                {\n                    state.isLoading ? <CategorySkeleton/> :\n                        <React.Fragment>\n                            <MetaTag title={state.category.name}/>\n                            <Category\n                                routeTemplate={<RouteTemplate data={[\n                                    {\n                                        name: 'Trang chủ',\n                                        path: '/'\n                                    },\n                                    {\n                                        name: state.category.parent_category.name,\n                                        path: `/p/${state.category.parent_category.path}`,\n                                    },\n                                    {\n                                        name: state.category.name\n                                    }\n                                ]}/>}\n                                leftComponent={<FilterComponent filter={filter} onFilterChange={filterChange}\n                                                                focusTag={tag}\n                                                                type={1}/>}\n                                rightComponent={<RightCCategory state={state} order={filter.order}\n                                                                onOrderChange={orderChange}/>}\n                            />\n                        </React.Fragment>\n                }\n            </React.Fragment>\n        </BodyTemplate>\n    );\n}\n"],"sourceRoot":""}